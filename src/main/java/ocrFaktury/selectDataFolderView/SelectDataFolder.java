package ocrFaktury.selectDataFolderView;import javafx.animation.FadeTransition;import javafx.scene.control.CheckBox;import javafx.scene.control.Label;import javafx.scene.control.TextArea;import javafx.scene.layout.FlowPane;import javafx.scene.paint.Color;import javafx.stage.DirectoryChooser;import javafx.stage.Stage;import javafx.util.Duration;import java.io.File;public class SelectDataFolder {    private static File selectedTxtFolder = null;    public static void handleFolderSelection(Stage stage, Label folderLocationLabel, TextArea ocrPreviewArea, FlowPane folderIconPane) {        if (selectedTxtFolder == null) {            DirectoryChooser directoryChooser = new DirectoryChooser();            directoryChooser.setTitle("Wybierz folder z plikami TXT");            File folder = directoryChooser.showDialog(stage);            if (folder != null) {                selectedTxtFolder = folder;                folderLocationLabel.setText("Lokalizacja folderu: " + folder.getAbsolutePath());                folderLocationLabel.setTextFill(Color.GREEN);                animateBlinking(folderLocationLabel);                updateFolderPreview(folder, ocrPreviewArea);                updateFolderIconView(folder, folderIconPane);            }        } else {            updateFolderPreview(selectedTxtFolder, ocrPreviewArea);            updateFolderIconView(selectedTxtFolder, folderIconPane);        }    }    private static void updateFolderPreview(File folder, TextArea ocrPreviewArea) {        File[] txtFiles = folder.listFiles((dir, name) -> name.toLowerCase().endsWith(".txt"));        if (txtFiles != null) {            StringBuilder sb = new StringBuilder();            for (File f : txtFiles) {                sb.append(f.getName()).append("\n");            }            ocrPreviewArea.setText(sb.toString());        } else {            ocrPreviewArea.setText("Brak plików .txt w folderze.");        }    }    public static void updateFolderIconView(File folder, FlowPane folderIconPane) {        folderIconPane.getChildren().clear();        File[] txtFiles = folder.listFiles((dir, name) -> name.toLowerCase().endsWith(".txt"));        if (txtFiles != null) {            for (File file : txtFiles) {                CheckBox fileIcon = new CheckBox(file.getName());                fileIcon.setPrefSize(150, 80);                fileIcon.setStyle(                        "-fx-border-color: gray; " +                                "-fx-background-color: #f8f8f8; " +                                "-fx-alignment: center; " +                                "-fx-font-size: 12px;"                );                folderIconPane.getChildren().add(fileIcon);                fileIcon.setOnAction(e -> {                    if (fileIcon.isSelected()) {                        System.out.println("Zaznaczono: " + file.getName());                    } else {                        System.out.println("Odznaczono: " + file.getName());                    }                });            }        } else {            folderIconPane.getChildren().add(new Label("Brak plików .txt w folderze."));        }    }    private static void animateBlinking(Label label) {        FadeTransition fadeTransition = new FadeTransition(Duration.seconds(1), label);        fadeTransition.setFromValue(1.0);        fadeTransition.setToValue(0.0);        fadeTransition.setCycleCount(FadeTransition.INDEFINITE);        fadeTransition.setAutoReverse(true);        fadeTransition.play();    }}